
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Calibration Database &mdash; GPI Data Pipeline 1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc_gpi.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="GPI Data Pipeline 1.3.0 documentation" href="../index.html" />
    <link rel="up" title="GPI Data Pipeline User’s Guide" href="index.html" />
    <link rel="next" title="Primitives, Listed by Category" href="primitives.html" />
    <link rel="prev" title="Recipe Templates" href="templates.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="primitives.html" title="Primitives, Listed by Category"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Recipe Templates"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">GPI Data Pipeline User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GPI_Logo_v2012.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The Calibration Database</a><ul>
<li><a class="reference internal" href="#how-the-calibration-database-selects-which-file-to-return">How the Calibration Database Selects Which File to Return</a></li>
<li><a class="reference internal" href="#maintaining-the-calibration-database">Maintaining the Calibration Database</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="templates.html"
                        title="previous chapter">Recipe Templates</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="primitives.html"
                        title="next chapter">Primitives, Listed by Category</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usage/calibdb.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-calibration-database">
<span id="calibdb"></span><h1>The Calibration Database<a class="headerlink" href="#the-calibration-database" title="Permalink to this headline">¶</a></h1>
<p>The calibration database consists of a directory containing all reduced calibration
files needed by the GPI DRP, and associated software for indexing and accessing
the calibration files.  The location of the calibration data directory is <a class="reference internal" href="../installation/configuration.html#config-envvars"><em>configured
upon system installation</em></a>.</p>
<p>As new calibration data are reduced, they are automatically saved into the
calibration DB. As other data are reduced, by default the pipeline queries the calibration
data to find the most appropriate calibration information for each task. (Users may explicitly select calibration files if desired, using the Recipe Editor tool).</p>
<p>The index of available calibrations is maintained in a FITS bintable file called <tt class="docutils literal"><span class="pre">GPI_Calibs_DB.fits</span></tt> located in the calibrations directory.
(For convenience, a human-readable copy of this file is also saved, in plain text format. This can be used to quickly examine by eye its contents)
The index table contains a list of various keyword values
of the reduced calibration data that can be used by the calibration DB software to
assign appropriate calibration</p>
<p>The fields which are tracked are:</p>
<ol class="arabic simple">
<li>Directory path (Currently all files are stored in the same calibrations directory,
but we save the path explicitly to support potential future upgrades to this
directory layout).</li>
<li>Filename of the reduced calibration data</li>
<li>Data type (e.g. Dark, wavelength calibration, flat field, etc)</li>
<li>Prism (to differentiate between spectral and polarimetric mode)</li>
<li>Filter</li>
<li>Apodizer</li>
<li>Lyot</li>
<li>Port of the Gemini Instrument Support Structure (side, bottom). This is relevant for instrumental polarization calibration.</li>
<li>Exposure time</li>
<li>date of acquisition of the raw file (in JD), or the most recent if the calibration is a combined product from several raw files</li>
</ol>
<div class="section" id="how-the-calibration-database-selects-which-file-to-return">
<h2>How the Calibration Database Selects Which File to Return<a class="headerlink" href="#how-the-calibration-database-selects-which-file-to-return" title="Permalink to this headline">¶</a></h2>
<p>Below is a list of the Criteria used to select the correct recipe to reduce a given type of calibration file. The values for the Type, Exposure Time, Data, Filter, and Prism are pulled from the image headers of the raw files.</p>
<table border="1" class="docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Calibration File</th>
<th class="head">Criteria</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Dark</td>
<td>Type, Exposure time, date</td>
</tr>
<tr class="row-odd"><td>Wavelength solution</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-even"><td>Polarimetry spots cal</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-odd"><td>Master flat</td>
<td>Type, Filter, Prism</td>
</tr>
<tr class="row-even"><td>Bad pixel map</td>
<td>Type, Date</td>
</tr>
<tr class="row-odd"><td>Plate scale &amp; orientation</td>
<td>Type, Date</td>
</tr>
<tr class="row-even"><td>Spot locations</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-odd"><td>Grid ratio</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-even"><td>Distortion</td>
<td>Type, Date</td>
</tr>
<tr class="row-odd"><td>Flux conversion</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-even"><td>Telluric transmission</td>
<td>Type, Filter, Prism, Date</td>
</tr>
<tr class="row-odd"><td>Instrumental polarization</td>
<td>Type, Filter, Prism, Date</td>
</tr>
</tbody>
</table>
<p>The <strong>rules for matching files</strong> are detailed <a class="reference internal" href="../developers/caldb.html#caldb-devel"><em>here</em></a>.</p>
</div>
<div class="section" id="maintaining-the-calibration-database">
<h2>Maintaining the Calibration Database<a class="headerlink" href="#maintaining-the-calibration-database" title="Permalink to this headline">¶</a></h2>
<p>For the most part, the calibration database software takes care of maintaining
itself in a fairly automatic manner.  As new calibration files are reduced, the
DRP software updates in real-time the calibration database.</p>
<p>The calibration file index can be
re-created at any time if needed by pressing the &#8216;Rescan Calib. DB&#8217; button in the
pipeline <a class="reference internal" href="status_console.html#status-console"><em>Status Console</em></a>. For instance, if you want to copy or move calibration
files from one computer to another, on the destination computer you should
rescan the database and it will pick up any new files that were added.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="primitives.html" title="Primitives, Listed by Category"
             >next</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Recipe Templates"
             >previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >GPI Data Pipeline User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2014, Marshall Perrin, Jerome Maire &amp; the GPI Data Analysis Team.
      Last updated on Jun 18, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>