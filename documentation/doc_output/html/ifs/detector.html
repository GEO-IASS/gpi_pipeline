
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GPI IFS Detector Properties &mdash; GPI Data Pipeline 1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc_gpi.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="GPI Data Pipeline 1.3.0 documentation" href="../index.html" />
    <link rel="up" title="GPI IFS Data Handbook" href="index.html" />
    <link rel="next" title="Field of View and Lenslet Geometry" href="fieldofview.html" />
    <link rel="prev" title="GPI IFS Data Handbook" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fieldofview.html" title="Field of View and Lenslet Geometry"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="GPI IFS Data Handbook"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">GPI IFS Data Handbook</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GPI_Logo_v2012.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">GPI IFS Detector Properties</a><ul>
<li><a class="reference internal" href="#readout-modes-and-read-noise">Readout Modes and Read Noise</a></li>
<li><a class="reference internal" href="#readout-times-and-overheads">Readout Times and Overheads</a></li>
<li><a class="reference internal" href="#detector-gain">Detector Gain</a></li>
<li><a class="reference internal" href="#linearity">Linearity</a></li>
<li><a class="reference internal" href="#saturation">Saturation</a></li>
<li><a class="reference internal" href="#operable-pixels">Operable Pixels</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">GPI IFS Data Handbook</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fieldofview.html"
                        title="next chapter">Field of View and Lenslet Geometry</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/ifs/detector.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gpi-ifs-detector-properties">
<h1>GPI IFS Detector Properties<a class="headerlink" href="#gpi-ifs-detector-properties" title="Permalink to this headline">¶</a></h1>
<p>The GPI IFS detector is a Teledyne HAWAII-2RG, with 2048x2048 logical pixels (2040x2040 of which are photosensitive, the outer 4 pixels being non-light-sensitive reference pixels).</p>
<div class="section" id="readout-modes-and-read-noise">
<h2>Readout Modes and Read Noise<a class="headerlink" href="#readout-modes-and-read-noise" title="Permalink to this headline">¶</a></h2>
<p>The detector may be read out using Correlated Double Sampline (CDS), Multiple CDS (MCDS, a.k.a. Fowler sampling), or up-the-ramp (UTR) modes. UTR is the standard mode and should almost always be used.</p>
<p>Read noise is about 11 e- per CDS read. This decreases with higher numbers of reads, down to a limit set by 1/f noise. A read noise of about 2 e- is achieved for 88 reads (130 s integration time), based on test data taken in early Feb 2013.</p>
</div>
<div class="section" id="readout-times-and-overheads">
<h2>Readout Times and Overheads<a class="headerlink" href="#readout-times-and-overheads" title="Permalink to this headline">¶</a></h2>
<p>Pixels are clocked out at 100 kHz in 32 channels. This leads to a readout time of 1.45479 s per full frame readout.
All exposure times are quantized to be multiples of
this, so the possible exposure times are 1.45 s, 2.91 s, 4.35 s, and so on.
The detector control software automatically rounds any requested exposure time
down to the next closest allowed value, so you can simply request e.g. 5 s
exposure and the system will take a 4.35 s exposure. Both the requested and
actual exposure times are saved to the FITS header.</p>
<p>Overhead from resetting the array before an exposure is 1 readout time, plus 1
readout time for the initial read of a CDS or UTR sequence, for a total
overhead of 2 readout times (~3 s) for a CDS or UTR exposure. For an MCDS
exposure, the initial overhead is nreads readout times, for a total overhead of
<img class="math" src="../_images/math/1f4c4386b473c9709c006cf6ea252afb64653d5f.png" alt="(1+nreads)*1.45"/> s.</p>
<p>These are the <em>minimum possible</em> overheads due to the readout scheme; in practice, instrument commanding imposes additional delays so the effective overheads are several times larger than this for commanding individual exposures. However,  <em>coadding</em> together multiple integrations can be done efficiently, with just this minimum inherent overhead per exposure.</p>
<p>In output files, the detector&#8217;s fast readout direction is presented as the X axis, and the slow readout direction as the Y axis. The 32 readout channels
are parallel regions each 64x2048 pixels in size.</p>
<p>The hardware supports subarray readouts, which could allow for shorter minimum read times for sufficiently small subarray sizes, but this capability has not yet been commissioned.</p>
</div>
<div class="section" id="detector-gain">
<h2>Detector Gain<a class="headerlink" href="#detector-gain" title="Permalink to this headline">¶</a></h2>
<p>The gain is nominally 3.04 e- per DN, based on the
settings of the output amplifiers. Prior to August 2, 2012, the gain was
nominally 2.15 e- per DN. This is recorded as the &#8220;SYSGAIN&#8221; extension header
keyword.</p>
<p>While the gain has not yet been independently measured for the GPI
detector, such a measurement has been done for the twin of this readout system
on the Keck instrument MOSFIRE. Kristen Kulas found using the photon transfer
method an empirical gain of 2.14 e-/ADU, essentially identical to the nominal
value of 2.15 based on the amplifier settings. So it seems reasonable to
suppose that the gain of the GPI detector really is close to the nominal gain,
until and unless we have any measurement otherwise.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the above is out of date and needs to be updated</p>
</div>
<p>An rough estimate of the gain can be computed using the formula</p>
<div class="math">
<p><img src="../_images/math/0054979781733b18ed1f697d73f793641528106c.png" alt="\frac{1}{g} = \frac{variance}{mean}."/></p>
</div><p>This is true in a uniformly enlightened detector image (This is never the case in GPI).
The proper way to deal with that is to acquire many images for several integration times (enough images to be able to compute a mean and a variance for each pixel for each integration time).
The slope of the curve -variance function of the different means (the mean increasing with the integration time)- gives an estimate of the gain of the pixel.
One could then compute a gain value for every single pixel.</p>
<p>Another solution to get a detector gain in the ballpark using flat fields is to add the pixels in the perpendicular direction of the spectral dispersion.
All the microlens spectra or identical. Therefore, the intensity received by these pixels together for a given wavelength will be the same in each spectrum.
It actually means computing a mean and a variance in each slice in a raw data cube (using the 3 pixels wide box integration and before wavelength interpolation) even if the the wavelength is not exactly constant in a single slice of a raw cube.</p>
<a class="reference internal image-reference" href="../_images/build_cube.png"><img alt="../_images/build_cube.png" class="align-center" src="../_images/build_cube.png" style="width: 540.0px; height: 405.0px;" /></a>
<p>One could be tempted to do that in a reduced data cube but it will not work.
The reduction process for a data cube includes interpolations in order to create a regular wavelength vector.
An interpolation doesn&#8217;t preserve the ratio variance/mean and this is the reason why a gain cannot be computed in a reduced data cube.
Adding the 3 pixels in the previous method is fine because it preserve the ratio.</p>
<dl class="docutils">
<dt><strong>More detailed explanation:</strong></dt>
<dd>Take a slice S that is the interpolation of two slices S1 and S2 so that:
S = a*S1+b*S2
Then, &lt;S&gt; = a*&lt;S1&gt;+b*&lt;S2&gt; = (a+b)&lt;S0&gt;
Var(S) = a^2*Var(S1)+b^2*Var(S2) = (a^2+b^2)*Var(S0)</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<blockquote>
<div>We can assume that a slice represents a wavelength and we suppose that the light source intensity does not depend of the wavelength. Therefore, the mean and the variance of both slices are identical.</div></blockquote>
<p class="last">So instead of having Var(S)/&lt;S&gt; = 1/g you get Var(S)/&lt;S&gt; = (a^2+b^2)/(a+b)*1/g</p>
</div>
<a class="reference internal image-reference" href="../_images/cube_interpolation.png"><img alt="../_images/cube_interpolation.png" class="align-center" src="../_images/cube_interpolation.png" style="width: 540.0px; height: 405.0px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The gain was once tried to be computed on a reduced data cube and the result was indeed different.
In order to verify if the interpolation was the cause of the difference, we compared the result of the ratio (from the reduced cube) to the value of (a^2+b^2)/(a+b)*1/g.
With, g computed from the raw cube and the interpolation coefficients approximated in the ballpark.
It appeared that the two were really close (~10% ish) which support the previous analysis.</p>
</div>
</div>
<div class="section" id="linearity">
<h2>Linearity<a class="headerlink" href="#linearity" title="Permalink to this headline">¶</a></h2>
<p>Document here from Raphael&#8217;s study</p>
</div>
<div class="section" id="saturation">
<h2>Saturation<a class="headerlink" href="#saturation" title="Permalink to this headline">¶</a></h2>
<p>To be documented.</p>
</div>
<div class="section" id="operable-pixels">
<h2>Operable Pixels<a class="headerlink" href="#operable-pixels" title="Permalink to this headline">¶</a></h2>
<p>About 99.5% of the pixels on the detector are operable. The non-operable pixels
include about 15,000 hot pixels and 2500 cold pixels that are measured and
masked out by the data pipeline.</p>
<p>That does not include the 4-pixel wide rim of reference pixels around the
outer edge of the detector. Those make up 0.78% of the total pixels of the H2RG but are non-photosensitive by design.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fieldofview.html" title="Field of View and Lenslet Geometry"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="GPI IFS Data Handbook"
             >previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >GPI IFS Data Handbook</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2014, Marshall Perrin, Jerome Maire &amp; the GPI Data Analysis Team.
      Last updated on Jun 18, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>