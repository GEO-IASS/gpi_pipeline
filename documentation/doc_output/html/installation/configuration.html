
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring the Pipeline &mdash; GPI Data Pipeline 1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc_gpi.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="GPI Data Pipeline 1.3.0 documentation" href="../index.html" />
    <link rel="up" title="GPI Data Pipeline Installation &amp; Configuration" href="index.html" />
    <link rel="next" title="Starting the GPI Data Pipeline" href="startup.html" />
    <link rel="prev" title="Known Issues" href="known_issues.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="startup.html" title="Starting the GPI Data Pipeline"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="known_issues.html" title="Known Issues"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">GPI Data Pipeline Installation &amp; Configuration</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GPI_Logo_v2012.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuring the Pipeline</a><ul>
<li><a class="reference internal" href="#automated-setup">Automated Setup</a></li>
<li><a class="reference internal" href="#how-to-set-environment-variables-manually">How to Set Environment Variables Manually</a></li>
<li><a class="reference internal" href="#setting-directory-paths-via-environment-variables">Setting directory paths via environment variables</a></li>
<li><a class="reference internal" href="#configuration-text-files">Configuration text files</a></li>
<li><a class="reference internal" href="#ancillary-data-files">Ancillary data files</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="known_issues.html"
                        title="previous chapter">Known Issues</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="startup.html"
                        title="next chapter">Starting the GPI Data Pipeline</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/installation/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuring-the-pipeline">
<span id="configuring"></span><h1>Configuring the Pipeline<a class="headerlink" href="#configuring-the-pipeline" title="Permalink to this headline">¶</a></h1>
<p>The GPI data reduction pipeline relies on a variety of configuration
information. This can roughly be divided into three sections:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#config-envvars"><em>Pipeline environment variables</em></a> define some basic locations of interest in the
file system.</li>
<li><a class="reference internal" href="#config-textfiles"><em>Pipeline configuration files</em></a>  define various options and settings. This
follows the paradigm common to many Unix programs in that there is a
system-wide configuration file that defines defaults, and then
each user may optionally have a config file in their home directory to change
values away from the defaults. In many cases, the default settings will be
fine without being changed.</li>
<li><a class="reference internal" href="#config-ancillarydata"><em>Pipeline ancillary data</em></a> contains pipeline settings that should rarely, if ever, need to be changed (e.g. the definitions of constants such as the speed of light).</li>
</ol>
<p>Installing the pipeline for the first time requires several paths to be defined via
environment variables. Only three paths are explicitly required to be set; the
rest have default settings that should work for the majority of users (but may
be changed if desired).</p>
<div class="section" id="automated-setup">
<h2>Automated Setup<a class="headerlink" href="#automated-setup" title="Permalink to this headline">¶</a></h2>
<p>For most users, the automated setup should be sufficient and there should be no need to configure things manually.</p>
<p>These installation scripts will guide you through the setup process and will automatically configure most of the settings for you. It does require you to verify or enter a few filepaths to ensure they point to the correct directories. The setup script writes out a configuration file to your home directory to save these settings. If you wish to change the file paths after running the setup script, simply edit that text file.</p>
<p>The setup script will ask you where you would like to store your GPI data. This can be any directory path. The script will automatically create some subdirectories inside the data directory for raw files, reduced files, log files, and so on.</p>
<p>The setup script appropriate for your OS will be located in the <tt class="docutils literal"><span class="pre">pipeline/scripts</span></tt> directory.</p>
<div class="admonition-mac-os-and-linux admonition">
<p class="first admonition-title">Mac OS and Linux</p>
<blockquote>
<div><img alt="../_images/icon_mac2.png" src="../_images/icon_mac2.png" />
<img alt="../_images/icon_linux2.png" src="../_images/icon_linux2.png" />
</div></blockquote>
<p>On Mac OS and Linux, open up a terminal and go to the <tt class="docutils literal"><span class="pre">pipeline/scripts</span></tt> directory. Then you will want to run the bash script <tt class="docutils literal"><span class="pre">gpi-setup-nix</span></tt> with the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; bash gpi-setup-nix
</pre></div>
</div>
<p>Follow the instructions given by the installation script. The relevant settings are written to a file <tt class="docutils literal"><span class="pre">.gpienv</span></tt> in your home directory. You will need to restart your terminal application for the installation to take effect.</p>
<p>For bash users, some operating systems use login shells. Run the command <tt class="docutils literal"><span class="pre">shopt</span> <span class="pre">login_shell</span></tt> to check whether you are using a login shell. If you are using one, you will need to source your <tt class="docutils literal"><span class="pre">.bashrc</span></tt> file into your <tt class="docutils literal"><span class="pre">.bash_profile</span></tt> file. <a class="reference external" href="http://dghubble.com/blog/posts/.bashprofile-.profile-and-.bashrc-conventions/">Read this for more information about the difference between login and non login shells</a>.</p>
<p>If everything went well, you can proceed to starting up the pipeline: <a class="reference internal" href="startup.html#first-startup"><em>Starting the GPI Data Pipeline</em></a>.</p>
<p class="last">If the automated setup did not work properly, you may need to install the pipeline manually: <a class="reference internal" href="#config-manual"><em>How to Set Environment Variables Manually</em></a>.</p>
</div>
<div class="admonition-windows admonition">
<p class="first admonition-title">Windows</p>
<blockquote>
<div><img alt="../_images/icon_windows2.png" src="../_images/icon_windows2.png" />
</div></blockquote>
<p><strong>For Windows Vista and newer</strong>, open up the <tt class="docutils literal"><span class="pre">pipeline/scripts</span></tt> directory and double click on <tt class="docutils literal"><span class="pre">gpi-setup-windows.bat</span></tt> to start the installation script.</p>
<p>Follow the instructions given by the installation script. If everything went well, you can proceed to starting up the pipeline: <a class="reference internal" href="startup.html#first-startup"><em>Starting the GPI Data Pipeline</em></a>.</p>
<p>If the automated setup did not work properly, you may need to install the pipeline manually: <a class="reference internal" href="#config-manual"><em>How to Set Environment Variables Manually</em></a>.</p>
<p class="last"><strong>For Windows XP users</strong>, the automated installation script will work with some changes to the script itself. Open up <tt class="docutils literal"><span class="pre">gpi-setup-windows.bat</span></tt> in a text editor and follow the instructions inside to modify the script for Windows XP.  Alternatively, Windows XP and older users can configure the pipeline manually: <a class="reference internal" href="#config-manual"><em>How to Set Environment Variables Manually</em></a>. (But you should upgrade to a more recent version of Windows in any case!)</p>
</div>
<p>Here is an example of a session using the automated installation script to install from source code on a Mac. Some of the prompts will be slightly different depending on OS, and source vs. compiled installations.</p>
<div class="highlight-python"><div class="highlight"><pre>**************************************************************************************
******* GPI Data Pipeline Environment Setup Script for Unix (Mac OS X) &amp; Linux *******
**************************************************************************************
 This appears to be an installation from source code.

WARNING: IDL is not in $PATH. Please make sure IDL is installed
 and not aliased. An aliased IDL may not work with the gpi-pipeline
 shortcut, but you can still launch the pipeline manually.


 We will need to set up some directories. Please provide the
 correct directory (absolute paths!) for each of the following
 environment variables. This program will attempt to guess a location
 that may or may not be right. PLEASE CHECK AND ADJUST THESE AS DESIRED
 FOR YOUR COMPUTER.

 Finding the location of the GPI pipeline directory. This should be the
 top-level directory of the downloaded and unzipped pipeline, containing
 contain folders such as &#39;scripts&#39;, &#39;config&#39;, &amp; &#39;recipe_remplates&#39;
 among others.

For GPI_PIPELINE_DIR, is &#39;/Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/pipeline&#39; the correct path (y|n)? y

 Finding the location of the GPI external libraries directory.
 This directory should contain the pipeline dependencies (&#39;pipeline_deps&#39;).
 EXTERNDIR automatically located at /Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/external. No user input needed.


 Looking up default directory to set up a GPI Data directory.
 Please change this to a folder you intend in store GPI data in. This script
 will automatically create subdirectories for Raw data, Reduced data, log files,
 and so on. If you wish to adjust these paths later, you may do so by editing
 the $HOME/.gpienv file.

For DATADIR, is &#39;/Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/data&#39; the correct path (y|n)? y

GPI Pipeline directory will be /Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/pipeline
GPI External Libraries directory will be /Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/external
GPI Data directory will be /Users/myusername/GPI/gpi_pipeline_1.2.1_r3478_source/data
Creating GPI configuration file in /Users/myusername/.gpienv
Setting up folders inside your GPI Data Directory (if necessary)...


Writing GPI Settings to /Users/myusername/.gpienv

 The .gpienv file needs to be executed to set environment variables each
 time you start a new terminal. Would you like this setup script to
 modify your .cshrc file to automatically source .gpienv when you
 open a terminal?

Should this script edit your .cshrc to source $HOME/.gpienv? (y|n) y
Modifying /Users/myusername/.cshrc to automatically run /Users/myusername/.gpienv

****************    Installation Complete!    ***************
 You will need to restart your terminal to run gpi-pipeline.
*************************************************************
</pre></div>
</div>
<p>If you have successfully ran the automated setup script, you can skip ahead to  <a class="reference internal" href="startup.html#first-startup"><em>Starting the GPI Data Pipeline</em></a>, or read on to understand what the automated setup is doing under the hood, and/or how you can manually adjust file paths if you want to customize your installation.</p>
</div>
<div class="section" id="how-to-set-environment-variables-manually">
<span id="config-manual"></span><h2>How to Set Environment Variables Manually<a class="headerlink" href="#how-to-set-environment-variables-manually" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The example scripts described in the following section are now mostly obsolete due to the automated setup script.
The following text is kept here just for reference right now, and to describe how to set up environment variables
manually for users who do not know how to do so. But really, most people should can let the automated setup script
take care of this all.</p>
</div>
<p>The pipeline includes some example scripts demonstrating how to set environment variables, located in the <tt class="docutils literal"><span class="pre">scripts</span></tt> subdirectory of the
pipeline installation.  As an alternate to using the automated setups script,  users may take the example script for their selected shell and modify it for their local directory paths.</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">setenv_GPI_sample.bash</span></tt>: Example environment variable setup script for sh or bash Unix shells</li>
<li><tt class="docutils literal"><span class="pre">setenv_GPI_sample.csh</span></tt>: Example environment variable setup script for csh or tcsh Unix shells</li>
<li><tt class="docutils literal"><span class="pre">setenv_gpi_windows.pro</span></tt>: Example setup IDL procedure for use on Windows.</li>
</ul>
</div></blockquote>
<p>The following sections walk the user through the manual pipeline configuration.</p>
<p>If you already know how to set environment variables on your computer, skip to <a class="reference internal" href="#config-envvars"><em>Setting directory paths via environment variables</em></a>.</p>
<div class="admonition-mac-os-and-linux admonition">
<p class="first admonition-title">Mac OS and Linux</p>
<blockquote>
<div><img alt="../_images/icon_mac2.png" src="../_images/icon_mac2.png" />
<img alt="../_images/icon_linux2.png" src="../_images/icon_linux2.png" />
</div></blockquote>
<p>On Mac OS and Linux, environment variables are generally set by shell
configuration &#8220;dot files&#8221; in your home directory.  Example shell scripts that
set the variables required by the pipeline are provided in the
pipeline/scripts directory. Although it is possible to edit the scripts in
this directory, they will be overwritten when you update the pipeline.
Therefore, the best approach is to create a local copy. Here, we walk you
through the setup process.</p>
<p>The first thing to do is determine shell you are currently using. To do so, run the following in a terminal (note that the &gt; represents the prompt and should not be entered in the command):</p>
<p>&gt; echo $SHELL</p>
<p>Depending on the output of this command, you will copy the associated setup script. The local version of the script can have a filename of your choosing.</p>
<p>If using an csh shell (or varient such as tcsh), copy the setenv_GPI_sample.csh script to your home directory (<tt class="docutils literal"><span class="pre">cp</span> <span class="pre">setenv_GPI_sample.csh</span> <span class="pre">~/setenv_GPI_custom.csh</span></tt>), or another suitable location if desired.</p>
<p>If you are using an sh or bash shell, copy the setenv_GPI_sample.bash script to your home directory (<tt class="docutils literal"><span class="pre">cp</span> <span class="pre">setenv_GPI_sample.bash</span> <span class="pre">~/setenv_GPI_custom.bash</span></tt>), or another suitable location if desired.</p>
<p>The script file can be renamed as desired, for instance to have a leading . to make it a hidden file.</p>
<p>The next step is to ensure this script file is sourced automatically for each terminal session.</p>
<p><strong>For bash shell users:</strong></p>
<blockquote>
<div><p>For users using a bash shell, modifications should be made to your .bash_profile (located in your home directory). Note that a typical install of the Mac OSX will not create the file by default. If you have not created a .bash_profile already, you must do so using your favourite text editor (note that the <tt class="docutils literal"><span class="pre">&lt;.&gt;</span></tt> in front of the filename means it will be hidden from standard <tt class="docutils literal"><span class="pre">ls</span></tt> commands, use <tt class="docutils literal"><span class="pre">ls</span> <span class="pre">-a</span></tt> to see all hidden files).</p>
<p>Your script (e.g. setenv_GPI_custom.bash) should be sourced by inserting the following command into the .bash_profile:</p>
<p><tt class="docutils literal"><span class="pre">source</span> <span class="pre">~/setenv_GPI_custom.bash</span></tt></p>
<p>Save the script. Now each time you open a new terminal (or tab), the environment variables set above (e.g. GPI_RAW_DATA_DIR) should be set. The user should test this by typing the following command in a newly opened terminal:</p>
<p><tt class="docutils literal"><span class="pre">echo</span> <span class="pre">$GPI_RAW_DATA_DIR</span></tt></p>
<p>If the command does not return the path you set in the script, then the .bash_profile is not being sourced, or you have an error in your script. See the <a class="reference internal" href="../faq.html#frequently-asked-questions"><em>FAQ</em></a> troubleshooting help.</p>
</div></blockquote>
<p><strong>For csh/tcsh users:</strong></p>
<blockquote>
<div><p>For users using a csh/tcsh shell, modifications should be made to your .cshrc or .tcshrc (located in your home directory). Note that a typical install of the Mac OSX will not create the file by default. If you have not created a .tcshrc (or .shrc .cshrc) already, you must do so using your favourite text editor (note that the <tt class="docutils literal"><span class="pre">&lt;.&gt;</span></tt> in front of the filename means it will be hidden from standard <tt class="docutils literal"><span class="pre">ls</span></tt> commands, use <tt class="docutils literal"><span class="pre">ls</span> <span class="pre">-a</span></tt> to see all hidden files).</p>
<p>Your script (e.g. setenv_GPI_custom.csh) should be sourced by inserting the following command into the .tcshrc (or .shrc .cshrc) file:</p>
<p><tt class="docutils literal"><span class="pre">source</span> <span class="pre">~/setenv_GPI_custom.csh</span></tt></p>
<p>Save the script. Now each time you open a new terminal (or tab), the environment variables set above (e.g. GPI_RAW_DATA_DIR) should be set. The user should test this by typing the following command in a newly opened terminal:</p>
<p><tt class="docutils literal"><span class="pre">echo</span> <span class="pre">$GPI_RAW_DATA_DIR</span></tt></p>
<p>If the command does not return the path you set in the script, then the .tcshrc (or .shrc .cshrc) is not being sourced, or you have an error in your script. See the <a class="reference internal" href="../faq.html#frequently-asked-questions"><em>FAQ</em></a> troubleshooting help.</p>
</div></blockquote>
<p class="last">Now proceed to the next section, <a class="reference internal" href="#config-envvars"><em>Setting directory paths via environment variables</em></a>.</p>
</div>
<div class="admonition-windows admonition">
<p class="first admonition-title">Windows</p>
<blockquote>
<div><img alt="../_images/icon_windows2.png" src="../_images/icon_windows2.png" />
</div></blockquote>
<p>If you <strong>have IDL</strong>, the best approach is to copy the sample code <tt class="docutils literal"><span class="pre">scripts\setenv_gpi_windows.pro</span></tt> to somewhere in your IDL path. Once completed, we will proceed to edit this file in the next section,  <a class="reference internal" href="#config-envvars"><em>Setting directory paths via environment variables</em></a>.
Environment variables can be set from within IDL, for instance,</p>
<div class="highlight-python"><div class="highlight"><pre>IDL&gt; setenv,&#39;GPI_DRP_QUEUE_DIR=E:\pipeline\drf_queue\&#39;
</pre></div>
</div>
<p>The setenv_gpi_windows.pro script uses this mechanism to set all the necessary paths. These commands must be repeated for each IDL session. You should <a class="reference external" href="http://www.exelisvis.com/Support/HelpArticlesDetail/TabId/219/ArtMID/900/ArticleID/5367/How-do-I-specify-a-program-to-automatically-run-when-my-IDL-session-starts-up.aspx">configure IDL to automatically run this program on startup</a>.</p>
<p>If you <strong>do not have IDL</strong> then environment variables can be set from the Control Panel&#8217;s system settings dialog.  See <a class="reference external" href="http://www.computerhope.com/issues/ch000549.htm">how to set environment variables in Windows</a>.</p>
<p class="last">Using your method of choice, we will set the required environment variables in the next section, <a class="reference internal" href="#config-envvars"><em>Setting directory paths via environment variables</em></a>.</p>
</div>
</div>
<div class="section" id="setting-directory-paths-via-environment-variables">
<span id="config-envvars"></span><h2>Setting directory paths via environment variables<a class="headerlink" href="#setting-directory-paths-via-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>The following path variables are <strong>required</strong> to be defined.
Edit your shell configuration files (e.g. by editing the <tt class="docutils literal"><span class="pre">.gpienv</span></tt> file created by the automatic setup script, or editing the <tt class="docutils literal"><span class="pre">setenv_gpi_*</span></tt> templates discussed in the previous section)
to set the variables equal to your chosen installation paths.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="38%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Contains</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GPI_RAW_DATA_DIR</td>
<td>Default path for FITS file input</td>
<td><tt class="docutils literal"><span class="pre">/home/username/gpi/rawdata</span></tt></td>
</tr>
<tr class="row-odd"><td>GPI_REDUCED_DATA_DIR</td>
<td>Path to save output files</td>
<td><tt class="docutils literal"><span class="pre">/home/username/gpi/reduced</span></tt></td>
</tr>
<tr class="row-even"><td>GPI_DRP_QUEUE_DIR</td>
<td>Path to queue directory</td>
<td><tt class="docutils literal"><span class="pre">/home/username/gpi/queue</span></tt></td>
</tr>
</tbody>
</table>
<p>Note that the user must have write permissions to the <tt class="docutils literal"><span class="pre">$GPI_DRP_QUEUE_DIR</span></tt> and <tt class="docutils literal"><span class="pre">$GPI_REDUCED_DATA_DIR</span></tt>. The raw data dir may be read-only.</p>
<p>If you are running the <strong>compiled</strong> version of the pipeline, you must also set two additional environment variables
to indicate where you have installed the pipeline. This should be the directory path of the unzipped pipeline
download file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="30%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Contains</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IDL_DIR</td>
<td>Location of the IDL runtime library.</td>
<td><tt class="docutils literal"><span class="pre">/home/username/gpi/gpi_pipeline_1.2.0/executables/idl/idl83</span></tt></td>
</tr>
<tr class="row-odd"><td>GPI_DRP_DIR</td>
<td>Location of installed pipeline</td>
<td><tt class="docutils literal"><span class="pre">/home/username/gpi/gpi_pipeline_1.2.0/</span></tt></td>
</tr>
</tbody>
</table>
<p>The following are paths are <strong>optional</strong> to define as environment variables. If not set explicitly, the pipeline will automatically use reasonable default values:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="33%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Contains</th>
<th class="head">Default Value if Not Set Explicitly</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GPI_DRP_DIR</td>
<td>Root dir of pipeline software</td>
<td>Determined automatically, location of
the IDL pipeline code. Contains
subdirectories: backbone, config,
gpitv etc. (Optional for source code installs, required
for compiled code installs.)</td>
</tr>
<tr class="row-odd"><td>GPI_DRP_CONFIG_DIR</td>
<td>Path to directory containing pipeline
config files and ancillary data.</td>
<td><tt class="docutils literal"><span class="pre">$GPI_DRP_DIR/config</span></tt></td>
</tr>
<tr class="row-even"><td>GPI_DRP_TEMPLATES_DIR</td>
<td>Path to recipe templates</td>
<td><tt class="docutils literal"><span class="pre">$GPI_DRP_DIR/recipe_templates</span></tt></td>
</tr>
<tr class="row-odd"><td>GPI_DRP_LOG_DIR</td>
<td>Path to save output log files</td>
<td><tt class="docutils literal"><span class="pre">$GPI_REDUCED_DATA_DIR/logs</span></tt></td>
</tr>
<tr class="row-even"><td>GPI_CALIBRATIONS_DIR</td>
<td>Location of Calibration Files Database</td>
<td><tt class="docutils literal"><span class="pre">$GPI_REDUCED_DATA_DIR/calibrations</span></tt></td>
</tr>
<tr class="row-odd"><td>GPI_RECIPE_OUTPUT_DIR</td>
<td>Where to save user-created Recipes</td>
<td><tt class="docutils literal"><span class="pre">$GPI_REDUCED_DATA_DIR/recipes</span></tt></td>
</tr>
</tbody>
</table>
<p>The required paths above must be set before you can proceed, and those that will be
written to (queue, reduced, calibrations, and log) must have write permissions
for the user running the pipeline.</p>
</div>
<div class="section" id="configuration-text-files">
<span id="config-textfiles"></span><h2>Configuration text files<a class="headerlink" href="#configuration-text-files" title="Permalink to this headline">¶</a></h2>
<p>As noted above, the GPI pipeline config file system is similar to many other Unix programs;
there&#8217;s a system-wide config file that sets default settings, and then each
user may optionally have a file in their home directory that overrides those
settings.</p>
<p>The allowable settings are listed in an <a class="reference internal" href="config_settings.html#config-settings"><em>Appendix</em></a>. Many users will not need to adjust any of these since
the default settings should be fine for most cases; such users may wish to skip this section.</p>
<p>The system default settings are stored in the file
<tt class="docutils literal"><span class="pre">$GPI_DRP_DIR/config/pipeline_settings.txt</span></tt> provided with the pipeline software.</p>
<p>If you wish to adjust settings, you should do so by creating a user settings file in your home directory rather than modifying
the system defaults file directly. This way your customized settings will be preserved when upgrading to a new version of the pipeline.
You can create a user settings file just by copying the system settings file to your home directory. The location of the user config file depends on the
operating system.</p>
<div class="admonition-mac-os-and-linux admonition">
<p class="first admonition-title">Mac OS and Linux</p>
<blockquote>
<div><img alt="../_images/icon_mac2.png" src="../_images/icon_mac2.png" />
<img alt="../_images/icon_linux2.png" src="../_images/icon_linux2.png" />
</div></blockquote>
<p class="last">The user config file must be named <tt class="docutils literal"><span class="pre">.gpi_pipeline_settings</span></tt> located in the user&#8217;s home directory. (This will be a hidden &#8220;dotfile&#8221; as is typical.)</p>
</div>
<div class="admonition-windows admonition">
<p class="first admonition-title">Windows</p>
<blockquote>
<div><img alt="../_images/icon_windows2.png" src="../_images/icon_windows2.png" />
</div></blockquote>
<p class="last">The user config file must be called <tt class="docutils literal"><span class="pre">gpi_pipeline_settings.txt</span></tt> be in the user&#8217;s home directory.</p>
</div>
<div class="admonition-note-for-subversion-users admonition">
<p class="first admonition-title">Note for Subversion Users</p>
<p class="last">Users installing from the Subversion repository, if you wish to change pipeline settings, you <strong>must</strong> create a local user config file in your
home directory. <strong>Do not</strong>  modify the system default configuration file <tt class="docutils literal"><span class="pre">config/pipeline_settings.txt</span></tt>. If you do
this, whenever you update your code from subversion it could overwrite your
configuration (and vice versa your local changes could get propagated to other users accidentally).</p>
</div>
<dl class="docutils">
<dt><strong>Configuration file contents:</strong> The config file has an extremely simple plain text file format. Each line of it is just::</dt>
<dd>SETTING_NAME &lt;tab&gt; SETTING_VALUE</dd>
</dl>
<p>Settings names are case insensitive. Values are all returned as strings.  Boolean
parameters are entered as 0 or 1.</p>
<p>If you leave the local user config file blank or nonexistent for a given setting, the default setting from the system config will be used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In addition to being set via environment variables, the above
directory names (e.g. GPI_CALIBRATIONS_DIR) may also be set in the configuration files (/config/gpi_pipeline_settings.txt).
The environment variables, if set, have higher precedence and will override the config files.
For historical reasons, environment variables are the preferred way to set paths (they
are convenient for use interactively in the shell, for instance you can
<tt class="docutils literal"><span class="pre">cd</span> <span class="pre">$GPI_RAW_DATA_DIR</span></tt>, etc.). But, if desired for some reason, it is possible
to set paths using just the text config files.</p>
</div>
</div>
<div class="section" id="ancillary-data-files">
<span id="config-ancillarydata"></span><h2>Ancillary data files<a class="headerlink" href="#ancillary-data-files" title="Permalink to this headline">¶</a></h2>
<p>A handful of data files are distributed with the pipeline
in a subdirectory <tt class="docutils literal"><span class="pre">config</span></tt>.  In most cases, users
will not have any need to edit any of these. They are listed here for completeness only.</p>
<p>For instance, there is a file containing the orbital elements of calibration
binaries, while another file describes the wavelengths of emission lines in
the wavelength calibration lamps at Gemini. These files are provided</p>
<ul class="simple">
<li><strong>pipeline_constants.txt</strong>: This is a text file containing various constants about the GPI instrument, Gemini South, and so on. These values are not expected to change often, if ever. The format of this file is identical to the pipeline settings file.  A full list of constants and default values is available in the <a class="reference internal" href="constants.html#gpi-constants"><em>Appendix</em></a>.</li>
<li><strong>gpi_pipeline_primitives.xml</strong>: This file is an index of all available pipeline primitives. It is
generated automatically by pipeline development scripts; see the Developer&#8217;s Guide.</li>
<li><strong>ifs_cooldown_history.txt</strong>: This text file lists dates when the GPI IFS was warmed
up for maintenance or other activities. It is used by the Calibration Database to
help decide which calibration files are most appopriate for reducing a given set of science data
(In general, calibration files from a different cooldown are probably not optimal.)</li>
<li><strong>keywordconfig.txt</strong>: This file lists the nominal header keywords in GPI-produced
FITS files, and whether they are expected to be found in the primary HDU or an
image extension HDU.</li>
<li><strong>lampemissionlines.txt</strong>: This is a list of xenon and argon emission line wavelengths
used in spectral calibration.</li>
<li><strong>orb6orbits.txt</strong>: This is a list of calibration binary orbital parameters, taken from
the Washington Double Star Catalog&#8217;s list of suggested calibration binaries. It is used
in astrometric calibration.</li>
<li><strong>trans_16_15.dat</strong>: This is a model of atmospheric transmission vs wavelength, used in some
optional routines for calibrating telluric throughput.</li>
<li><strong>xlocs.fits</strong> and <strong>ylocs.fits</strong>: are lenslet X and Y pixel coordinate lists for the
mostly unsupported non-dispersed engineering mode.</li>
<li><strong>apodizer_spec.txt</strong>: Table of GPI apodizers and their empirically determined satellite spot flux ratios.</li>
<li><strong>filters</strong>: This subdirectory contains the measured transmission profiles for the five GPI IFS bandpass filters.</li>
<li><strong>pickles</strong>: This subdirectory contains data files comprising the <a class="reference external" href="http://www.stsci.edu/hst/observatory/crds/pickles_atlas.html">Stellar Spectral Flux Atlas Libray, from Pickles (1998)</a>.</li>
<li><strong>planet_models</strong>: This subdirectory contains
model planet atmosphere spectra from <a class="reference external" href="http://www.astro.princeton.edu/~burrows/warmstart/index.html">Spiegel and Burrows (2011)</a>, binned to lower resolution to match the GPI IFS.</li>
</ul>
<p>Continue to reading about <a class="reference internal" href="startup.html#first-startup"><em>Starting the GPI Data Pipeline</em></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="startup.html" title="Starting the GPI Data Pipeline"
             >next</a> |</li>
        <li class="right" >
          <a href="known_issues.html" title="Known Issues"
             >previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >GPI Data Pipeline Installation &amp; Configuration</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2014, Marshall Perrin, Jerome Maire &amp; the GPI Data Analysis Team.
      Last updated on Jun 18, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>