
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Appendix: Primitives Configuration XML File Format and Generation &mdash; GPI Data Pipeline 1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc_gpi.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="GPI Data Pipeline 1.3.0 documentation" href="../index.html" />
    <link rel="up" title="GPI Data Pipeline Developer’s Guide" href="index.html" />
    <link rel="next" title="Credits for the GPI Pipeline Software Development" href="credits.html" />
    <link rel="prev" title="Appendix: Recipe XML File (‘DRF’) Format" href="recipe_xml_devel.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="credits.html" title="Credits for the GPI Pipeline Software Development"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="recipe_xml_devel.html" title="Appendix: Recipe XML File (‘DRF’) Format"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">GPI Data Pipeline Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GPI_Logo_v2012.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="recipe_xml_devel.html"
                        title="previous chapter">Appendix: Recipe XML File (&#8216;DRF&#8217;) Format</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="credits.html"
                        title="next chapter">Credits for the GPI Pipeline Software Development</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/developers/primitives_config_xml_devel.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="appendix-primitives-configuration-xml-file-format-and-generation">
<h1>Appendix: Primitives Configuration XML File Format and Generation<a class="headerlink" href="#appendix-primitives-configuration-xml-file-format-and-generation" title="Permalink to this headline">¶</a></h1>
<p>This page documents the contents of the <tt class="docutils literal"><span class="pre">config/gpi_pipeline_primitives.xml</span></tt> file which serves as the master index of
primitives available to the pipeline. It should essentially never be necessary to manually edit or update this file:
For developers, the IDL command  <tt class="docutils literal"><span class="pre">make_primitives_config</span></tt> will automatically regenerate this file based on
structured information present in the doc headers of the primitives themselves.  This command is invoked as part of the
response to the user pressing the &#8220;Rescan DRP Config&#8221; button in the Status Console, so for the vast majority of cases the workflow is simply:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Create a new primitive or edit an existing primitive as desired. Update the doc header comments at the top as described below.</li>
<li>Press &#8220;Rescan DRP Config&#8221; in the Status Console.  The <tt class="docutils literal"><span class="pre">config/gpi_pipeline_primitives.xml</span></tt> file will be updated.</li>
<li>Your new primitive is now available for use in the pipeline. If you have any currently open Recipe Editor windows, you&#8217;ll need to select &#8216;Reload Available Pritives&#8217; to make it read in the updated configuration file.</li>
</ol>
</div></blockquote>
<p>The <tt class="docutils literal"><span class="pre">gpi_pipeline_primitves.xml</span></tt> file consists of a long series of &lt;Primitive /&gt; XML tags, contained within a single &lt;Config /&gt; tag.
Here is an example of the content of a Primitive tag from that file:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;Primitive Name=&quot;Remove Persistence from Previous Images&quot; IDLFunc=&quot;gpi_remove_persistence_from_previous_images&quot; Comment=&quot; Determines/Removes persistence of previous images&quot; Order=&quot; 1.2&quot; Type=&quot; ALL&quot;&gt;
    &lt;Argument  Name=&quot;CalibrationFile&quot; Type=&quot;String&quot; CalFileType=&quot;persis&quot; Default=&quot;AUTOMATIC&quot; Desc=&quot;Filename of the persistence_parameter file to be read&quot; /&gt;
    &lt;Argument  Name=&quot;Save&quot; Type=&quot;int&quot; Range=&quot;[0,1]&quot; Default=&quot;0&quot; Desc=&quot;1: save output on disk, 0: don&#39;t save&quot; /&gt;
    &lt;Argument  Name=&quot;gpitv&quot; Type=&quot;int&quot; Range=&quot;[0,500]&quot; Default=&quot;0&quot; Desc=&quot;1-500: choose gpitv session for displaying output, 0: no display &quot;  /&gt;
&lt;/Primitive&gt;
</pre></div>
</div>
<p>The attributes of a Primitive tag are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><em>Name</em>: The descriptive name for the primitive. Required. Obtained from the &#8216;PRIMITIVE DESCRIPTION&#8217; doc header line in the IDL source code file.</li>
<li><em>IDLFunc</em>: Name of the IDL function that implements this command. Required. Obtained from the filename itself automatically during indexing by <tt class="docutils literal"><span class="pre">make_primitives_config</span></tt>.</li>
<li><em>Comment</em>: A longer explanatory comment. Optional. Obtained from the &#8216;COMMENT&#8217; doc header line.</li>
<li><em>Order</em>: A numeric order giving the suggested default order of this primitive relative to other ones.  Required. Obtained from the &#8216;ORDER&#8217; doc header line. See <a class="reference internal" href="../usage/primitives.html#primitives"><em>Primitives, Listed by Category</em></a> for more information.</li>
<li><em>Type</em>: Which subset(s) of primitives this particular primitive belongs to.  Required. Obtained from the &#8216;TYPE&#8217; doc header line.  See <a class="reference internal" href="../usage/templates.html#templates"><em>Recipe Templates</em></a> for more information.</li>
</ul>
</div></blockquote>
<p>Each primitive may contain zero or more Argument tags. The attributes of an argument tag are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><em>Name</em>: The string name to be used for that primitive argument.</li>
<li><em>Type</em>: The IDL variable type for that primitive argument. May be &#8220;string&#8221;, &#8220;int&#8221;, &#8220;float&#8221;</li>
<li><em>Range</em>: An optional range limit that will apply to this argument. For numeric types, give the min and max allowed values enclosed in brackets: <tt class="docutils literal"><span class="pre">&quot;[0,500]&quot;</span></tt> and so on. For string types, if there are a limited set of allowed values, give those separated by a pipe (<tt class="docutils literal"><span class="pre">|</span></tt>) symbol: <tt class="docutils literal"><span class="pre">&quot;MEAN|MEDIAN|SIGMACLIP&quot;</span></tt>. If the Range argument is not present, the argument&#8217;s range is not constrained.</li>
<li><em>Default</em>: The default value for that argument. Must comply with the Type and Range constraints. Optional.</li>
<li><em>Desc</em>: A longer descriptive comment for the argument, which is shown in the Recipe Editor as a reference for the user. Optional.</li>
</ul>
</div></blockquote>
<p>A &#8220;CalibrationFile&#8221; argument may also have an additional attribute:</p>
<blockquote>
<div><ul class="simple">
<li><em>CalFileType</em>: The type of calibration file desired from the calibration database for this primitive.</li>
</ul>
</div></blockquote>
<p>The CalFileType attribute if present for any argument other than CalibrationFile will simply be ignored.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="credits.html" title="Credits for the GPI Pipeline Software Development"
             >next</a> |</li>
        <li class="right" >
          <a href="recipe_xml_devel.html" title="Appendix: Recipe XML File (‘DRF’) Format"
             >previous</a> |</li>
        <li><a href="../index.html">GPI Data Pipeline 1.3.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >GPI Data Pipeline Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2014, Marshall Perrin, Jerome Maire &amp; the GPI Data Analysis Team.
      Last updated on Jun 18, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>