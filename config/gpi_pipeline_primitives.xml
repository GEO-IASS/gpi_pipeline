<Config DirName="placeholder" >
<!-- GPI DRS Config File - for DRF GUI etc. 
This file was autogenerated by make_DRSConfigXML.pro based on IDL doc headers -->
<!-- Module Names to IDL functions map -->
<!-- Astronomical Reductions ARP_SPEC -->
 <Module Name="Accumulate Images" IDLFunc="accumulate_images" Comment=" Stores images for the combination routine" Order=" 4.0" Type=" ALL" Sequence=" " >
     <Argument  Name="Method" Type="string" Range="OnDisk|InMemory" Default="OnDisk" Desc="OnDisk|InMemory" />
 </Module>
 <Module Name="Update World Coordinates" IDLFunc="addwcs" Comment=" Add wcs info, assuming target star is precisely centered." Order=" 2.9" Type=" ALL" Sequence=" " >
     <Argument  Name="CalibrationFile" Type="astrom" Default="GPI-astrom.fits" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-wcs" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Calibrate Photometric Flux" IDLFunc="apply_photometric_cal" Comment=" Apply photometric calibration using satellite flux " Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="FinalUnits" Type="int" Range="[0,10]" Default="1" Desc="0:Counts, 1:Counts/s, 2:ph/s/nm/m^2, 3:Jy, 4:W/m^2/um, 5:ergs/s/cm^2/A, 6:ergs/s/cm^2/Hz" />
     <Argument  Name="CalibrationFile" Type="fluxcal" Default="GPI-fluxcal.fits" Desc="Filename of the desired flux calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Calibrate Photometric Flux and save convertion in DB" IDLFunc="apply_photometric_cal_02" Comment=" Apply photometric calibration using satellite flux " Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="FinalUnits" Type="int" Range="[0,10]" Default="1" Desc="0:Counts, 1:Counts/s, 2:ph/s/nm/m^2, 3:Jy, 4:W/m^2/um, 5:ergs/s/cm^2/A, 6:ergs/s/cm^2/Hz" />
     <Argument  Name="CalibrationFile" Type="fluxcal" Default="GPI-fluxcal.fits" Desc="Filename of the desired flux calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="Save_flux_convertion" Type="int" Range="[0,1]" Default="1" Desc="1: save flux convertion factor on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Calibrate Photometric Flux of extented object" IDLFunc="apply_photometric_cal_extented" Comment=" Apply photometric calibration of extented object " Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="FinalUnits" Type="int" Range="[0,10]" Default="1" Desc="0:Counts, 1:Counts/s, 2:ph/s/nm/m^2, 3:Jy, 4:W/m^2/um, 5:ergs/s/cm^2/A, 6:ergs/s/cm^2/Hz" />
     <Argument  Name="CalibrationFile" Type="Fluxconv" Default="GPI-fluxconv.fits" Desc="Filename of the desired flux calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Calibrate Photometric Flux - Polarimetry" IDLFunc="apply_photometric_cal_polar" Comment=" Apply photometric calibration using satellite flux for polarimetry-mode data" Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="FinalUnits" Type="int" Range="[0,10]" Default="1" Desc="0:Counts, 1:Counts/s, 2:ph/s/nm/m^2, 3:Jy, 4:W/m^2/um, 5:ergs/s/cm^2/A, 6:ergs/s/cm^2/Hz" />
     <Argument  Name="CalibrationFile" Type="fluxcal" Default="GPI-fluxcal.fits" Desc="Filename of the desired flux calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Subtract Dark/Sky Background" IDLFunc="applydarkcorrection" Comment=" Subtract a dark frame. " Order=" 1.26" Type=" ALL" Sequence="" >
     <Argument  Name="CalibrationFile" Type="dark" Default="GPI-dark.fits" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-darksub" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Apply Reference Pixel Correction" IDLFunc="applyrefpixcorrection" Comment=" Subtract channel bias levels using H2RG reference pixels." Order=" 1.25" Type=" ALL" Sequence=" 3-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display "  />
 </Module>
 <Module Name="Calibrate astrometry from binary (using separation and PA)" IDLFunc="calc_astrometry_binaries" Comment=" Calculate astrometry from unocculted binaries using user-specified separation and PA at DATEOBS" Order=" 2.6" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="rho" Type="float" Range="[0.,4.]" Default="1." Desc="Separation [arcsec] at date DATEOBS of observation of the binaries" />
     <Argument  Name="pa" Type="float" Range="[0.,360.]" Default="4.8" Desc="Position angle [degree] at date DATEOBS of observation of the binaries" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-astrom" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Calibrate astrometry from binary (using 6th orbit catalog)" IDLFunc="calc_astrometry_binaries_sixth_orbit_catalog" Comment=" Calculate astrometry from unocculted binaries; Calculate Separation and PA at date DATEOBS using the sixth orbit catalog." Order=" 2.61" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-astrom" Desc="Enter output suffix" />
 </Module>
 <Module Name="Collapse datacube" IDLFunc="collapsedatacube" Comment=" Collapse the wavelength dimension of a datacube via mean, median or total. " Order=" 2.6" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Method" Type="enum" Range="MEDIAN|TOTAL"  Default="TOTAL" Desc="How to collapse datacube: total or median (with flux conservation)" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="ReuseOutput" Type="int" Range="[0,1]" Default="1" Desc="1: keep output for following primitives, 0: don't keep" />
     <Argument  Name='suffix' Type='string' Default='-coll' Desc="choose the suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine 2D images" IDLFunc="combine2dframes" Comment=" Combine 2D images such as darks into a master file via mean or median. " Order=" 1.41" Type=" ALL" Sequence=" 22-" >
     <Argument  Name="Method" Type="enum" Range="MEAN|MEDIAN|MEANCLIP"  Default="MEDIAN" Desc="How to combine images: median, mean, or mean with outlier rejection?" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name='suffix' Type='string' Default='median' Desc="choose the suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine 3D cubes" IDLFunc="combine_3dcubes" Comment=" Combine 3D data cubes via mean or median. " Order=" 4.5" Type=" ALL" Sequence=" 22- " >
     <Argument  Name="Method" Type="enum" Range="MEAN|MEDIAN|MEANCLIP|MINIMUM"  Default="MEDIAN" Desc="How to combine images: median, mean, or mean with outlier rejection?" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name='suffix' Type='string' Default='median' Desc="choose the suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine 2D dark images" IDLFunc="combinedarkframes" Comment=" Combine 2D dark images into a master file via mean or median. " Order=" 4.01" Type=" CAL-SPEC" Sequence=" 22-" >
     <Argument  Name="Method" Type="enum" Range="MEAN|MEDIAN|MEANCLIP"  Default="MEDIAN" Desc="How to combine images: median, mean, or mean with outlier rejection?" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name='suffix' Type='string' Default='-dark' Desc="choose the suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Control quality of data" IDLFunc="control_data_quality" Comment=" Control quality of data using keywords. Appropriate action for bad quality data is user-defined. " Order=" 1.5" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Action" Type="int" Range="[0,10]" Default="1" Desc="0:Simple alert and continue reduction, 1:Reduction fails" />
     <Argument  Name="r0" Type="float" Range="[0,2]" Default="0.08" Desc="critical r0 [m] at lambda=0.5microms" />
     <Argument  Name="rmserr" Type="float" Range="[0,1000]" Default="10." Desc="Critical rms wavefront error in microms. " />
 </Module>
 <Module Name="Display raw data with GPItv" IDLFunc="displayrawimage" Comment=" Display, with GPItv, raw data to be processed  " Order=" 1.1 " Type=" ALL HIDDEN" Sequence="" >
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="1" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Assemble Datacube" IDLFunc="extract" Comment=" Extract a 3D datacube from a 2D image (Calls assemble spectral or polarimetric cube automatically depending on input data format)" Order=" 2.0" Type=" ALL" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" />
 </Module>
 <Module Name="Extract one spectrum" IDLFunc="extract_one_spectrum" Comment=" Extract one spectrum from a datacube somewhere in the FOV specified by the user." Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="xcenter" Type="int" Range="[0,1000]" Default="141" Desc="x-locations in pixel on datacube where extraction will be made" />
     <Argument  Name="ycenter" Type="int" Range="[0,1000]" Default="141" Desc="y-locations in pixel on datacube where extraction will be made" />
     <Argument  Name="radius" Type="float" Range="[0,1000]" Default="5." Desc="Aperture radius (in pixel i.e. mlens) to extract photometry for each wavelength. " />
     <Argument  Name="method" Type="string"  Default="total" Range="[median|mean|total]"  Desc="method of photometry extraction:median,mean,total" />
     <Argument  Name="ps_figure" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose # of saved fig suffix name, 0: no ps figure " />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output (fits) on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-spec" Desc="Enter output suffix (fits)" />
 </Module>
 <Module Name="Extract one spectrum, plots" IDLFunc="extract_one_spectrum2" Comment=" Extract one spectrum from a datacube somewhere in the FOV specified by the user." Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="xcenter" Type="int" Range="[0,1000]" Default="141" Desc="x-locations in pixel on datacube where extraction will be made" />
     <Argument  Name="ycenter" Type="int" Range="[0,1000]" Default="141" Desc="y-locations in pixel on datacube where extraction will be made" />
     <Argument  Name="radius" Type="float" Range="[0,1000]" Default="5." Desc="Aperture radius (in pixel i.e. mlens) to extract photometry for each wavelength. " />
     <Argument  Name="method" Type="string"  Default="total" Range="[median|mean|total]"  Desc="method of photometry extraction:median,mean,total" />
     <Argument  Name="ps_figure" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose # of saved fig suffix name, 0: no ps figure " />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output (fits) on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-spec" Desc="Enter output suffix (fits)" />
 </Module>
 <Module Name="Measure telluric transmission" IDLFunc="extract_telluric_transmission" Comment=" Extract Telluric transmission from satelitte spots (method 1) or from PSF signal (method 2) using theoretical star spectrum. Correct or save the transmisssion." Order=" 2.5" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="method" Type="int" Range="[1,2]" Default="1" Desc="1: Use satellite flux. 2:Use clean PSF area." />
     <Argument  Name="Correct_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: Correct datacube from extracted tell trams., 0: don't correct" />
     <Argument  Name="Save_corrected_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: save corrected datacube on disk, 0: don't save" />
     <Argument  Name="Save_telluric_transmission" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-telcal" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Extract telluric transmission from sat. spots" IDLFunc="extract_telluric_transmission_meth1" Comment=" Extract Telluric Spectrum from satelitte spots" Order=" 2.51" Type=" ALL-SPEC HIDDEN" Sequence=" " >
     <Argument  Name="Correct_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: Correct datacube from extracted tell trams., 0: don't correct" />
     <Argument  Name="Save_corrected_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: save corrected datacube on disk, 0: don't save" />
     <Argument  Name="Save_telluric_transmission" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-telcal" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
     <Argument  Name="Xspot1" Type="int" Range="[0,2048]" Default="97" Desc="Initial approximate x-position [pixel] of sat. spot 1" />
     <Argument  Name="Yspot1" Type="int" Range="[0,2048]" Default="117" Desc="Initial approximate y-position [pixel] of sat. spot 1" />
     <Argument  Name="Xspot2" Type="int" Range="[0,2048]" Default="179" Desc="Initial approximate x-position [pixel] of sat. spot 2" />
     <Argument  Name="Yspot2" Type="int" Range="[0,2048]" Default="159" Desc="Initial approximate y-position [pixel] of sat. spot 2" />
 </Module>
 <Module Name="Extract telluric transmission from datacube" IDLFunc="extract_telluric_transmission_meth2" Comment=" Extract Telluric Spectrum from star spec estimated from datacube" Order=" 2.52" Type=" ALL-SPEC HIDDEN" Sequence=" " >
     <Argument  Name="Correct_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: Correct datacube from extracted tell trams., 0: don't correct" />
     <Argument  Name="Save_corrected_datacube" Type="int" Range="[0,1]" Default="1" Desc="1: save corrected datacube on disk, 0: don't save" />
     <Argument  Name="Save_telluric_transmission" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-telcal" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
     <Argument  Name="Xspot1" Type="int" Range="[0,2048]" Default="97" Desc="Initial approximate x-position [pixel] of sat. spot 1" />
     <Argument  Name="Yspot1" Type="int" Range="[0,2048]" Default="117" Desc="Initial approximate y-position [pixel] of sat. spot 1" />
     <Argument  Name="Xspot2" Type="int" Range="[0,2048]" Default="179" Desc="Initial approximate x-position [pixel] of sat. spot 2" />
     <Argument  Name="Yspot2" Type="int" Range="[0,2048]" Default="159" Desc="Initial approximate y-position [pixel] of sat. spot 2" />
 </Module>
 <Module Name="Assemble Spectral Datacube" IDLFunc="extractcube" Comment=" Extract a 3D datacube from a 2D image. Spatial integration (3 pixels) along the dispersion axis" Order=" 2.0" Type=" ALL-SPEC" Sequence="" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rawspdc" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Assemble Spectral Datacube using mlens PSF" IDLFunc="extractcube_mlenspsf" Comment=" Extract a 3D datacube from a 2D image. Spatial integration (3 pixels) along the dispersion axis" Order=" 2.0" Type=" ALL-SPEC" Sequence="" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rawspdc" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Assemble Undispersed Image" IDLFunc="extractcube_undispersed" Comment=" Extract a 3D datacube from a 2D image. Spatial integration (3 pixels) along the dispersion axis" Order=" 2.0" Type=" ALL-SPEC" Sequence="" >
     <Argument  Name="xshift" Type="float" Range="[-100,100]" Default="-2.363" Desc="Shift in X direction" />
     <Argument  Name="yshift" Type="float" Range="[-100,100]" Default="-2.6134" Desc="Shift in Y direction" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-extu" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Assemble Spectral Datacube (bp)" IDLFunc="extractcube_withbadpix" Comment=" Extract a 3D datacube from a 2D image taking account of the hot/cold pixel map (need to use also readbadpixmap with this primitive)." Order=" 2.0" Type=" ALL/SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rawspdc" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Assemble Polarization Cube" IDLFunc="extractpol" Comment=" Extract 2 perpendicular polarizations from a 2D image." Order=" 2.0" Type=" ALL/POL" Sequence=" 11-31-" >
     <Argument  Name="CalibrationFile" Type="polcal" Default="GPI-polcal.fits" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Load Satellite Spot locations" IDLFunc="get_spots_locations" Comment=" Load sat spot locations from calibration file " Order=" 2.45" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="CalibrationFile" Type="spotloc" Default="GPI-spotloc.fits" Desc="Filename of spot locations calibration file to be read" />
 </Module>
 <Module Name="Add Gemini and GPI keywords." IDLFunc="gpi_add_geminigpikeywords" Comment=" Add GPI and Gemini missing keywords. " Order=" 1.16" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="overwrite" Type="int"  Default="0" Desc="0:do not overwrite already existent keyword; 1:overwrite" />
     <Argument  Name="exten" Type="int"  Default="0" Desc="Choose the extension num to place your keyword(s). 0 for FITS or MEF-PHU. 1 for extension1." />
     <Argument  Name="keyword1" Type="string"  Default="FILTER" Desc="Enter keyword name to add." />
     <Argument  Name="value1" Type="string"  Default="H" Desc="Enter value of the keyword to add." />
     <Argument  Name="keyword2" Type="string"  Default="OBSTYPE" Desc="Enter keyword name to add." />
     <Argument  Name="value2" Type="string"  Default="wavecal" Desc="Enter value of the keyword to add." />
     <Argument  Name="keyword3" Type="string"  Default="GCALLAMP" Desc="Enter keyword name to add." />
     <Argument  Name="value3" Type="string"  Default="Xenon" Desc="Enter value of the keyword to add." />
     <Argument  Name="keyword4" Type="string"  Default="PRISM" Desc="Enter keyword name to add." />
     <Argument  Name="value4" Type="string"  Default="Spectral" Desc="Enter value of the keyword to add." />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-keyw" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Add missing keyword." IDLFunc="gpi_add_missingkeyword" Comment=" Add any missing keyword. (use this function several times in the DRF if you need to add more than one keyword)" Order=" 1.17" Type=" ALL HIDDEN" Sequence=" " >
     <Argument  Name="keyword" Type="string"  Default="" Desc="Enter keyword name to add." />
     <Argument  Name="value" Type="string"  Default="" Desc="Enter value of the keyword to add." />
 </Module>
 <Module Name="Add multi missing keywords." IDLFunc="gpi_add_multimissingkeyword" Comment=" Add any missing keyword. (use this function several times in the DRF if you need to add more than one keyword)" Order=" 1.18" Type=" ALL HIDDEN" Sequence=" " >
     <Argument  Name="keyword1" Type="string"  Default="FILTER" Desc="Enter keyword name to add." />
     <Argument  Name="value1" Type=""  Default="H" Desc="Enter value of the keyword to add." />
     <Argument  Name="keyword2" Type="string"  Default="OBSTYPE" Desc="Enter keyword name to add." />
     <Argument  Name="value2" Type=""  Default="Xenon" Desc="Enter value of the keyword to add." />
 </Module>
 <Module Name="ADI with LOCI" IDLFunc="gpi_adi_loci_multiwav" Comment=" Implements the LOCI ADI algorithm (Lafreniere et al. 2007)" Order=" 4.11" Type=" ASTR/SPEC" Sequence=" " >
     <Argument  Name="nfwhm" Type="enum" Range="[0,1]" Default="1.5" Desc="number of FWHM to calculate the minimal distance for reference calculation" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-loci" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Basic ADI" IDLFunc="gpi_adisimple_multiwav" Comment=" Implements the basic ADI algorithm described by Marois et al. (2006)." Order=" 4.1" Type=" ASTR/SPEC" Sequence=" 02-03-" >
     <Argument  Name="numimmed" Type="int" Range="[1,100]" Default="3" Desc="number of images for the calculation of the PSF reference" />
     <Argument  Name="nfwhm" Type="enum" Range="[0,1]" Default="1.5" Desc="number of FWHM to calculate the minimal distance for reference calculation" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-adim" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine bad pixel maps" IDLFunc="gpi_combine_badpixmaps" Comment=" This routine is used to do an AND or OR combination of badpix maps (badpix=1, elsewhere=0) extracted from several bands." Order=" 4.02" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
     <Argument  Name="combmethod" Type="string" Range="OR|AND" Default="OR" Desc="Combination of badpix maps: OR|AND" />
 </Module>
 <Module Name="Combine Wavelength Calibrations" IDLFunc="gpi_combine_wavcal_all" Comment=" Performs simple median combination of wavelength calibrations from flat and/or arc lamps" Order=" 4.2" Type=" CAL-SPEC" Sequence=" 23-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-comb" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine Wavelength Calibrations locations" IDLFunc="gpi_combine_wavcal_locations_all" Comment=" Combine wavelength calibration from  flat and arc" Order=" 4.2" Type=" CAL-SPEC" Sequence=" 23-" >
     <Argument  Name="polydegree" Type="int" Range="[1,2]" Default="1" Desc="1: linear wavelength solution, 2: quadratic wav. sol." />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-comb" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Copy keyword value to an other keyword." IDLFunc="gpi_copykeywordvalue" Comment=" Copy keyword values to other keywords. " Order=" 1.15" Type=" ALL HIDDEN" Sequence=" " >
     <Argument  Name="overwrite" Type="int"  Default="0" Desc="0:do not overwrite already existent keyword; 1:overwrite" />
     <Argument  Name="keyw_source_1" Type="string"  Default="OBJECT" Desc="Enter keyword name to copy its value to keyw_target_1." />
     <Argument  Name="keyw_target_1" Type="string"  Default="GCALLAMP" Desc="Enter keyword name that will receive value of keyw_source_1." />
     <Argument  Name="keyw_source_2" Type="string"  Default="OBJECT" Desc="Enter keyword name to copy its value to keyw_target_2." />
     <Argument  Name="keyw_target_2" Type="string"  Default="GCALSHUT" Desc="Enter keyword name that will receive value of keyw_source_2." />
     <Argument  Name="keyw_source_3" Type="string"  Default="OBJECT" Desc="Enter keyword name to copy its value to keyw_target_2." />
     <Argument  Name="keyw_target_3" Type="string"  Default="OBSTYPE" Desc="Enter keyword name that will receive value of keyw_source_2." />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-keyw" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Correct GPI distortion" IDLFunc="gpi_correct_distortion" Comment=" Correct GPI distortion" Order=" 2.44" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="CalibrationFile" Type="distorcal" Default="GPI-distorcal.fits" Desc="Filename of the desired distortion calibration file to be read" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Clean Cosmic Rays" IDLFunc="gpi_cosmicrays" Comment=" Subtract a dark frame. " Order=" 1.27" Type=" ALL" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Measure Polarization Spot Calibration" IDLFunc="gpi_extract_polcal" Comment=" Derive polarization calibration files from a flat field image." Order=" 1.8" Type=" CALIBRATION/POL" Sequence=" 1-" >
     <Argument  Name="nlens" Type="int" Range="[0,400]" Default="281" Desc="side length of  the  lenslet array " />
     <Argument  Name="centrXpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate x-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="centrYpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate y-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="w" Type="float" Range="[0.,10.]" Default="4.8" Desc="Spectral spacing perpendicular to the dispersion axis at the detcetor in pixel" />
     <Argument  Name="P" Type="float" Range="[-7.,7.]" Default="-1.8" Desc="Micro-pupil pattern" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" />
     <Argument  Name="Display" Type="int" Range="[0,1]" Default="1" />
 </Module>
 <Module Name="Measure Wavelength Calibration" IDLFunc="gpi_extract_wavcal2" Comment=" Derive wavelength calibration from an arc lamp or flat-field image." Order=" 1.7" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="nlens" Type="int" Range="[0,400]" Default="281" Desc="side length of  the  lenslet array " />
     <Argument  Name="centrXpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate x-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="centrYpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate y-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="w" Type="float" Range="[0.,10.]" Default="4.8" Desc="Spectral spacing perpendicular to the dispersion axis at the image center [pixel]" />
     <Argument  Name="P" Type="float" Range="[-7.,7.]" Default="-1.8" Desc="Micro-pupil pattern" />
     <Argument  Name="emissionlinesfile" Type="string"  Default="$GPI_PIPELINE_DIR\dpl_library\lampemissionlines.txt" Desc="File of emission lines." />
     <Argument  Name="wav_of_centrXYpos" Type="int" Range="[1,2]" Default="2" Desc="1 if centrX-Ypos is the smallest-wavelength peak of the band; 2 if centrX-Ypos refer to 1.5microns" />
     <Argument  Name="maxpos" Type="float" Range="[-7.,7.]" Default="2." Desc="Allowed maximum location fluctuation (in pixel) between adjacent mlens" />
     <Argument  Name="maxtilt" Type="float" Range="[-360.,360.]" Default="10." Desc="Allowed maximum tilt fluctuation (in degree) between adjacent mlens" />
     <Argument  Name="medfilter" Type="int" Range="[0,1]" Default="1" Desc="1: Median filtering of dispersion coeff and tilts with a (5x5) median filtering" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-wavcal" Desc="Enter output suffix" />
     <Argument  Name="gpitvim_dispgrid" Type="int" Range="[0,500]" Default="15" Desc="1-500: choose gpitv session for displaying image output and wavcal grid overplotted, 0: no display " />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
     <Argument  Name="tests" Type="int" Range="[0,3]" Default="0" Desc="1 for extensive tests " />
     <Argument  Name="testsDST" Type="int" Range="[0,3]" Default="0" Desc="1 for DST tests " />
 </Module>
 <Module Name="Measure locations of Emission Lines" IDLFunc="gpi_extract_wavcal_locations" Comment=" Derive wavelength calibration from an arc lamp or flat-field image." Order=" 1.7" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="nlens" Type="int" Range="[0,400]" Default="281" Desc="side length of  the  lenslet array " />
     <Argument  Name="centrXpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate x-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="centrYpos" Type="int" Range="[0,2048]" Default="1024" Desc="Initial approximate y-position [pixel] of central peak at 1.5microns" />
     <Argument  Name="w" Type="float" Range="[0.,10.]" Default="4.8" Desc="Spectral spacing perpendicular to the dispersion axis at the detcetor in pixel" />
     <Argument  Name="P" Type="float" Range="[-7.,7.]" Default="-1.8" Desc="Micro-pupil pattern" />
     <Argument  Name="wav_of_centrXYpos" Type="int" Range="[1,2]" Default="2" Desc="1 if centrX-Ypos is the smallest-wavelength peak of the band; 2 if centrX-Ypos refer to 1.5microns" />
     <Argument  Name="maxpos" Type="float" Range="[-7.,7.]" Default="2." Desc="Allowed maximum location fluctuation (in pixel) between adjacent mlens" />
     <Argument  Name="maxtilt" Type="float" Range="[-360.,360.]" Default="10." Desc="Allowed maximum tilt fluctuation (in degree) between adjacent mlens" />
     <Argument  Name="medfilter" Type="int" Range="[0,1]" Default="1" Desc="1: Median filtering of dispersion coeff and tilts with a (5x5) median filtering" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-wavcal" Desc="Enter output suffix" />
     <Argument  Name="gpitvim_dispgrid" Type="int" Range="[0,500]" Default="15" Desc="1-500: choose gpitv session for displaying image output and wavcal grid overplotted, 0: no display " />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
     <Argument  Name="tests" Type="int" Range="[0,3]" Default="0" Desc="1 for extensive tests " />
 </Module>
 <Module Name="Find Bad pixels from flats" IDLFunc="gpi_find_badpixels" Comment=" Find Hot/cold pixels using flat-field images. find deviation which is nbdev times greater or lower than the estimated value of the pixel as if it was not hot/cold." Order=" 1.3" Type=" CAL-SPEC" Sequence=" 24-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-badpix" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Find Bad pixels from dark or qe map" IDLFunc="gpi_find_badpixels_from_dark" Comment=" Find hot/cold pixels from qe map. Find deviants with [Intensities gt (1 + nbdev) *  mean_value_of the frame] and [Intensities lt (1 - nbdev) *  mean_value_of the frame]. (bad pixel =1, 0 elsewhere)" Order=" 1.3" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="nbdev" Type="float" Range="[0.,100.]" Default="0.7" Desc="deviation from mean intensity, see routine description" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-qebadpix" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Find Bad pixels from darks or qe map" IDLFunc="gpi_find_badpixels_from_qemap" Comment=" Find hot/cold pixels from qe map. Find deviants with [Intensities gt (1 + nbdev) *  mean_value_of the frame] and [Intensities lt (1 - nbdev) *  mean_value_of the frame]. (bad pixel =1, 0 elsewhere)" Order=" 1.3" Type=" CAL-SPEC" Sequence=" " >
     <Argument  Name="nbdev" Type="float" Range="[0.,100.]" Default="0.7" Desc="Allowed maximum location fluctuation (in pixel) between adjacent mlens" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-qebadpix" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Find hot pixels from dark images" IDLFunc="gpi_find_hotbadpixels_from_dark" Comment=" Find hot pixels with dark images with I gt threshold*mean(image), deliver a badpix map (hot pixel =1, 0 elsewhere)" Order=" 1.3" Type=" CALIBRATION" Sequence=" " >
     <Argument  Name="threshold" Type="float" Range="[0.,100.]" Default="0.7" Desc="deviation from mean intensity, see routine description" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Measure satellite spot locations" IDLFunc="gpi_meas_sat_spots_locations" Comment=" Calculate locations of sat.spots in datacubes " Order=" 2.44" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="spotsnbr" Type="int" Range="[1,4]" Default="4" Desc="How many spots in a slice of the datacube? " />
     <Argument  Name="maxaper" Type="int" Range="[1,4]" Default="2" Desc="Half-side length of the window for maximum detection. " />
     <Argument  Name="centroidaper" Type="int" Range="[1,4]" Default="2" Desc="Half-side length of the window for centroid calculation. " />
     <Argument  Name="CalibrationFile" Type="spotloc" Default="GPI-spotloc.fits" Desc="Filename of spot locations calibration file to be read for first location guess. Will override following user guess." />
     <Argument  Name="x1" Type="int" Range="[0,300]" Default="0" Desc="approximate x-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="y1" Type="int" Range="[0,300]" Default="0" Desc="approximate y-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="x2" Type="int" Range="[0,300]" Default="0" Desc="approximate x-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="y2" Type="int" Range="[0,300]" Default="0" Desc="approximate y-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="x3" Type="int" Range="[0,300]" Default="0" Desc="approximate x-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="y3" Type="int" Range="[0,300]" Default="0" Desc="approximate y-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="x4" Type="int" Range="[0,300]" Default="0" Desc="approximate x-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="y4" Type="int" Range="[0,300]" Default="0" Desc="approximate y-location of first spot on central slice of the datacube in pixels (not considered if CalibrationFile is defined)" />
     <Argument  Name="ReuseOutput" Type="int" Range="[0,1]" Default="0" Desc="1: keep output for following primitives, 0: don't keep" />
 </Module>
 <Module Name="Measure GPI distortion from grid pattern" IDLFunc="gpi_measure_distortion" Comment=" Measure GPI distortion from grid pattern" Order=" 2.44" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="spotsnbr" Type="int" Range="[1,4]" Default="4" Desc="How many spots in a slice of the datacube? " />
 </Module>
 <Module Name="Median ADI data-cubes" IDLFunc="gpi_medianadi" Comment=" Median all residual ADI (or LOCI) data-cubes." Order=" 4.5" Type=" ASTR/SPEC" Sequence=" 02-03-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Rotate extended object" IDLFunc="gpi_rotate_extended_object_with_pa" Comment=" Rotate extended object using parallactic angle for spectroscopic obs." Order=" 4.1" Type=" ASTR/SPEC" Sequence=" 02-03-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rot" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Speckle alignment" IDLFunc="gpi_specklealignement" Comment=" This recipe rescales datacube PSF slices with respect to a chosen reference PSF slice. This routine does NOT update the data structures in memory. You MUST set the keyword SAVE to 1 or else the output is silently discarded." Order=" 2.61" Type=" ASTR/SPEC" Sequence=" " >
     <Argument  Name="k" Type="int" Range="[0,100]" Default="0" Desc="Slice of the reference PSF" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="ReuseOutput" Type="int" Range="[0,1]" Default="1" Desc="1: keep output for following primitives, 0: don't keep" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="5" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Rotate 2d image (90,180,270deg)" IDLFunc="gpirotateimage" Comment=" Rotate a 2d image (90,180,270deg)" Order=" 1.2" Type=" ALL HIDDEN" Sequence=" " >
     <Argument  Name="Direction" Type="int" Range="[0,3]" Default="1" Desc="Rotation Counterclockwise:0=None,1=90deg,2=180deg,3=270deg" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rot" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Interpolate Wavelength Axis" IDLFunc="interpol_spec_oncommwavvect" Comment=" Interpolate spectral datacube onto regular wavelength sampling." Order=" 2.3" Type=" ALL-SPEC" Sequence=" 03-" >
     <Argument  Name="Spectralchannels" Type="int" Range="[0,100]" Default="37" Desc="Choose how many spectral channels for output datacube" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-spdc" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Load Instrumental Polarization Calibration" IDLFunc="load_instpol" Comment=" " Order=" 0.1" Type=" ALL/POL" Sequence="" >
     <Argument  Name='suffix' type='string' default='default' Desc="choose the suffix" />
     <Argument  Name="CalibrationFile" Type="instpol" Default="GPI-instpol.fits" Desc="Filename of the desired instrumental polarization file to be read"  />
 </Module>
 <Module Name="Calculate the median frame of dark images." IDLFunc="medianframes_dark" Comment=" Calculate the median frame of dark images" Order=" 1.4" Type=" CAL-SPEC" Sequence=" 22-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-dark" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Combine Polarization Sequence" IDLFunc="pol_combine" Comment="" Order=" 4.4" Type=" ASTR/POL" Sequence=" 11-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="10" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="" IDLFunc="pol_combine_test" Comment="" Order="" Type="" Sequence="" />
 <Module Name="Divide by Polarized Flat Field" IDLFunc="pol_flat_div" Comment=" Divides a 2-slice polarimetry file by a flat field." Order=" 3.5" Type=" ALL/POL" Sequence=" 11-" >
     <Argument  Name="CalibrationFile" Type="polflat" Default="GPI-polflat.fits" Desc="Filename of the desired wavelength calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Normalize polarimetry flats" IDLFunc="pol_flat_norm" Comment=" Normalize a polarimetry-mode flat field to unity." Order=" 3.1992" Type=" ALL/POL" Sequence=" 31-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="plots using the polarization spot calibration" IDLFunc="polcalplots" Comment=" plots using the wavelength solution" Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="ps_figure" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose # of saved fig suffix name, 0: no ps figure " />
     <Argument  Name="suffix" Type="string"  Default="-spec" Desc="Enter output suffix (fits)" />
 </Module>
 <Module Name="Load bad pixel map" IDLFunc="readbadpixmap" Comment=" Reads a bad-pixel map file from disk. " Order=" 0.02" Type=" ALL" Sequence=" " >
     <Argument  Name="CalibrationFile" type="badpix" default="GPI-badpix.fits" Desc="Filename of the desired wavelength calibration file to be read" />
 </Module>
 <Module Name="Load Wavelength Calibration" IDLFunc="readwavcal" Comment=" Reads a wavelength calibration file from disk. This primitive is required for any data-cube extraction." Order=" 0.01" Type=" ALL-SPEC" Sequence="" >
     <Argument  Name="CalibrationFile" Type="wavcal" Default="GPI-wavcal.fits" Desc="Filename of the desired wavelength calibration file to be read" />
 </Module>
 <Module Name="Remove Flat Lamp spectrum" IDLFunc="remove_lamp_spectrum" Comment=" Fit the lamp spectrum and remove it (for delivering flat field cubes)" Order=" 2.25" Type=" CAL-SPEC" Sequence=" 21-" >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
     <Argument  Name="method" Type="string" Range="polyfit|linfit|blackbody" Default="blackbody" Desc="Method to use for removing lamp spectrum" />
     <Argument  Name="suffix" Type="string"  Default="-specflat" Desc="Enter output suffix" />
 </Module>
 <Module Name="Rotate North Up" IDLFunc="rotate_north_up" Comment=" Rotate images so that north is up. " Order=" 3.9" Type=" ASTR/POL" Sequence=" 11-" >
     <Argument  Name="Method" Type="enum" Range="CUBIC|FFT" Default="CUBIC" />
     <Argument  Name="Show" Type="enum" Range="0|1" Default="0" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Measure satellite spot flux ratios" IDLFunc="sat_spots_calib_from_unocc" Comment=" Calculate flux ratio between satellite spots and unocculted star image in a given aperture." Order=" 2.515" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="tests" Type="int" Range="[0,1]" Default="0" Desc="1 only for DRP tests " />
 </Module>
 <Module Name="Measure satellite spot locations with GPItv" IDLFunc="sat_spots_locations" Comment=" Calculate locations of sat.spots in datacubes (using GPItv). Do not work with the IDL Virtual Machine." Order=" 2.44" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="spotsnbr" Type="int" Range="[1,4]" Default="4" Desc="How many spots in a slice of the datacube? " />
 </Module>
 <Module Name="Save Output" IDLFunc="save_output" Comment=" Save output to disk as a FITS file. Note that you can often do this from another module by setting the 'save=1' option; this is a redundant way to specify that. " Order=" 10.0" Type=" ALL" Sequence=" " >
     <Argument  Name='suffix' type='string' default='default' Desc="choose the suffix" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Set Calibration Type" IDLFunc="set_calfile_type" Comment="  Set calibration type for recording a reduced calibration observation into the cal DB. " Order=" 10.0" Type=" CAL/ALL" Sequence=" " >
     <Argument  Name='filetype' type='string' Default='Dark' Desc="Calibration File Type" />
     <Argument  Name="save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Simple SSDI" IDLFunc="simplespectraldiff" Comment=" Apply SSDI to create a 2D subtracted image from a cube. Given the user's specified wavelength ranges, extract the 3D datacube slices for each of those wavelength ranges. Collapse these down into 2D images by simply averaging the values at each lenslet (ignoring NANs).  Rescale Image1, then compute  diffImage = I1scaled - k* I2" Order=" 2.61" Type=" ASTR/SPEC" Sequence=" " >
     <Argument  Name="L1Min" Type="float" Range="[0.9,2.5]" Default="1.55" Desc="Wavelength range 1, minimum wavelength [in microns]" />
     <Argument  Name="L1Max" Type="float" Range="[0.9,2.5]" Default="1.57" Desc="Wavelength range 1, maximum wavelength [in microns]" />
     <Argument  Name="L2Min" Type="float" Range="[0.9,2.5]" Default="1.60" Desc="Wavelength range 2, minimum wavelength [in microns]" />
     <Argument  Name="L2Max" Type="float" Range="[0.9,2.5]" Default="1.65" Desc="Wavelength range 2, maximum wavelength [in microns]" />
     <Argument  Name="k" Type="float" Range="[0,10]" Default="1.0" Desc="Scaling factor of Intensity(wav_range2) with diffImage = I1scaled - k* I2" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="ReuseOutput" Type="int" Range="[0,1]" Default="1" Desc="1: keep output for following primitives, 0: don't keep" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="5" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Simple SSDI of median ADI residual" IDLFunc="simplespectraldiff_postadi" Comment=" Apply SSDI to create a 2D subtracted image from a cube. Given the user's specified wavelength ranges, extract the 3D datacube slices for each of those wavelength ranges. Collapse these down into 2D images by simply averaging the values at each lenslet (ignoring NANs).  Rescale Image1, then compute  diffImage = I1scaled - k* I2" Order=" 4.3" Type=" ASTR/SPEC HIDDEN" Sequence=" 2-3-" >
     <Argument  Name="L1Min" Type="float" Range="[0.9,2.5]" Default="1.55" Desc="Wavelength range 1, minimum wavelength [in microns]" />
     <Argument  Name="L1Max" Type="float" Range="[0.9,2.5]" Default="1.57" Desc="Wavelength range 1, maximum wavelength [in microns]" />
     <Argument  Name="L2Min" Type="float" Range="[0.9,2.5]" Default="1.60" Desc="Wavelength range 2, minimum wavelength [in microns]" />
     <Argument  Name="L2Max" Type="float" Range="[0.9,2.5]" Default="1.65" Desc="Wavelength range 2, maximum wavelength [in microns]" />
     <Argument  Name="k" Type="float" Range="[0,10]" Default="1.0" Desc="Scaling factor of Intensity(wav_range2) with diffImage = I1scaled - k* I2" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="1" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="5" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Divide by Spectral Flat Field" IDLFunc="spectral_flat_div" Comment=" Divides a spectral data-cube by a flat field data-cube." Order=" 2.2" Type=" ALL/SPEC" Sequence=" 3-" >
     <Argument  Name="CalibrationFile" Type="specflat" Default="GPI-specflat.fits" Desc="Filename of the desired wavelength calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-rawspdc" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Divide spectral data by telluric transmission" IDLFunc="spectral_telluric_transm_div" Comment=" Divides a spectral data-cube by a flat field data-cube." Order=" 2.5" Type=" ALL/SPEC" Sequence=" 3-" >
     <Argument  Name="CalibrationFile" Type="-tellucal" Default="GPI-tellucal.fits" Desc="Filename of the desired wavelength calibration file to be read" />
     <Argument  Name="Save" Type="int" Range="[0,1]" Default="0" Desc="1: save output on disk, 0: don't save" />
     <Argument  Name="suffix" Type="string"  Default="-telcal" Desc="Enter output suffix" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Subtract background from 2D raw image" IDLFunc="subtract_background_2d" Comment="  Subtract 2D background based on the regions in between the spectra" Order=" 1.12 " Type=" ALL HIDDEN" Sequence="" >
     <Argument  Name="method" Type="string" Range="[threshhold|calfile]" Default="threshhold" Desc='Find background based on image value threshhold cut, or calibration file spectra/spot locations?' />
     <Argument  Name="thresh" Type="float" Range="[0,5]" Default="2" Desc="What multiple of the image median should be used as the threshhold for selecting spectra? Suggested values 2 for spectral mode, 4 for polarimetry" />
     <Argument  Name="fwhm_x" Type="float" Range="[0,10]" Default="1" Desc="FWHM of the Gaussian for smoothing the background, in the X direction" />
     <Argument  Name="fwhm_y" Type="float" Range="[0,10]" Default="7" Desc="FWHM of the Gaussian for smoothing the background, in the Y direction.  Suggested value 7 for spectra, 15 for polarimetry modes" />
     <Argument  Name="niter" Type="int" Range="[0,10]" Default="3" Desc="How many times to iterate the convolution fill towards convergence?" />
     <Argument  Name="before_and_after" Type="int" Range="[0,1]" Default="0" Desc="Show the before-and-after images for the user to see?" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="1" Desc="1-500: choose gpitv session for displaying output, 0: no display " />
 </Module>
 <Module Name="Test the Stokes parameters measurement" IDLFunc="testStokesparam" Comment=" Test the algorithm of the Stokes parameters measurement by comparing them with DST Stokes parameter inputs." Order=" 4.3" Type=" ALL-POL " Sequence=" " >
     <Argument  Name="ComparisonFile" Type="string" Default="E:\GPIdatabase\GPIreduced\testdata\polscene_H_pol3.fits" Desc="Enter DST input Stokes params" />
     <Argument  Name="suffix" Type="string"  Default="-ErrStokes" Desc="Enter suffix of figures names" />
     <Argument  Name="legendfig" Type="string"  Default="" Desc="If needed, enter a legend for figures" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
 </Module>
 <Module Name="Test the measured angular separation and PA" IDLFunc="testcoordinates001" Comment=" Test the measured angular separation and PA" Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-test08" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the distortion correction" IDLFunc="testdistortion001" Comment=" Test the distortion correction" Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-disto" Desc="Enter suffix of figure name" />
     <Argument  Name="InFile" Type="string" Default="GPI-spdc.fits" Desc="Filename of input undistorted data to be read" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the extended object photometry" IDLFunc="testextendedobjectflux" Comment=" Test the algorithm of the Extended object photometric measurement by comparing it with DST debris disk inputs." Order=" 4.3" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="ComparisonFile" Type="string" Default="E:\GPIdatabase\GPIreduced\testdata\input_ext1.fits" Desc="Enter DST input Stokes params" />
     <Argument  Name="suffix" Type="string"  Default="-ErrStokes" Desc="Enter suffix of figures names" />
     <Argument  Name="legendfig" Type="string"  Default="" Desc="If needed, enter a legend for figures" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
 </Module>
 <Module Name="Test the photometric calibration" IDLFunc="testphotometry001" Comment=" Test the photometry calibration by comparing extracted companion spectrum with DST initial spectrum." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the photometric calibration of an extented object" IDLFunc="testphotometryextented001" Comment=" Test the photometry calibration by comparing extracted companion spectrum with DST initial spectrum." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the astrometric calibration" IDLFunc="testplatescale001" Comment=" Test the plate scale and orientation" Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-satspotloc" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the polarization calibration measurement" IDLFunc="testpolcal001" Comment=" Test the algorithm of the polarization calibration measurement by comparing with DST-Zemax reference wavelength solution." Order=" 4.3" Type=" ALL-POL " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-ErrPolcal" Desc="Enter suffix of figures names" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
 </Module>
 <Module Name="Test the satellite spot locations" IDLFunc="testsatspotloc001" Comment=" Test the satellite  spot locations" Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-satspotloc" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the speckle suppression algorithms." IDLFunc="testspecklesupr001" Comment=" Test the speckle suppression algorithms." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the speckle suppression algorithms." IDLFunc="testspecklesupr001__" Comment=" Test the speckle suppression algorithms." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the speckle suppression algorithms, plots" IDLFunc="testspecklesupr002" Comment=" Test the speckle suppression algorithms." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the speckle suppression algorithms of dual-channel polarimetry." IDLFunc="testspecklesuprpolar001" Comment=" Test the speckle suppression algorithms." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the speckle suppression algorithms of SDI." IDLFunc="testspecklesuprsdi001" Comment=" Test the speckle suppression algorithms." Order=" 2.52" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-photom" Desc="Enter suffix of figure name" />
     <Argument  Name="title" Type="string" Default="" Desc="Enter figure title" />
 </Module>
 <Module Name="Test the wavelength solution measurement" IDLFunc="testwavcal001" Comment=" Test the algorithm of the wavelength solution measurement by comparing with DST-Zemax reference wavelength solution. DST package needed." Order=" 4.3" Type=" ALL-SPEC " Sequence=" " >
     <Argument  Name="suffix" Type="string"  Default="-ErrWavcal" Desc="Enter suffix of figures names" />
     <Argument  Name="gpitv" Type="int" Range="[0,500]" Default="0" Desc="1-500: choose gpitv session for displaying wavcal file, 0: no display " />
 </Module>
 <Module Name="plots using the wavelength solution" IDLFunc="wavcalplots" Comment=" plots using the wavelength solution" Order=" 2.51" Type=" ALL-SPEC" Sequence=" " >
     <Argument  Name="ps_figure" Type="int" Range="[0,500]" Default="2" Desc="1-500: choose # of saved fig suffix name, 0: no ps figure " />
     <Argument  Name="suffix" Type="string"  Default="-spec" Desc="Enter output suffix (fits)" />
 </Module>
</Config>
